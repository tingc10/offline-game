(window["webpackJsonpoffline-game"]=window["webpackJsonpoffline-game"]||[]).push([[0],{12:function(t,e,i){},13:function(t,e,i){},14:function(t,e,i){"use strict";i.r(e);var s=i(0),a=i.n(s),o=i(4),h=i.n(o),n=(i(12),i(6)),c=i(1),r=i(2),l=(i(13),i(5)),d=i.n(l);function u(t,e){return Math.random()*(e-t+1)+t}function y(t){return t[Math.floor(Math.random()*t.length)]}var f=function(){function t(e,i,s,a,o,h,n,r){Object(c.a)(this,t),this.canvas=e,this.ctx=i,this.x=s,this.y=a,this.velocity={x:(Math.random()-.5)*n,y:(Math.random()-.5)*r},this.radius=o,this.color=h,this.timeToLive=250,this.opacity=1,this.gravity=.25}return Object(r.a)(t,[{key:"draw",value:function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.shadowColor=this.color,this.shadowBlur=25,this.ctx.globalAlpha=this.opacity,this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}},{key:"update",value:function(){this.x+=this.velocity.x,this.y+=this.velocity.y,this.velocity.y+=this.gravity,this.timeToLive-=1,this.opacity-=1/this.timeToLive,this.draw()}}]),t}(),v=function(){function t(e,i,s,a,o,h,n,r,l,d){Object(c.a)(this,t),this.canvas=e,this.ctx=i,this.x=s,this.y=a,this.radius=o,this.color=h,this.velocity={x:r||0,y:l||0},this.acc=.01,this.origin={x:s,y:a},this.dontCheck=d,this.opacity=1,this.particlesArr=n,this.collided=!1}return Object(r.a)(t,[{key:"draw",value:function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.shadowColor=this.color,this.shadowBlur=25,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.globalAlpha=this.opacity,this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.origin.y<=0?this.y+=this.velocity.y:this.origin.y>=this.canvas.height&&(this.y-=this.velocity.y),1==e&&(this.y+=this.velocity.y,this.x+=this.velocity.x),this.collisionDetect(t),this.draw()}},{key:"collisionDetect",value:function(t){for(var e,i,s,a,o=this,h=0;h<t.length;h++){if(this!==t[h]&&!this.dontCheck)if((e=this.x,i=this.y,s=t[h].x,a=t[h].y,Math.sqrt(Math.pow(s-e,2)+Math.pow(a-i,2))-2*this.radius)<0)if(this.color==t[h].color){for(var n=0;n<Math.floor(u(20,25));n++)this.break(this.particlesArr,.4,.8),this.collided=!0;this.opacity=0}else if(this.color!=t[h].color)for(var c=0;c<Math.floor(u(40,55));c++)t.forEach(function(t){t.opacity=0,o.break(o.particlesArr,2,5,t.x,t.y,t.color)}),this.particlesArr.forEach(function(t){t.gravity=0})}}},{key:"edgeDetect",value:function(){this.y+this.radius+this.velocity.y>this.canvas.height?this.velocity.y*=-1:this.y-this.radius<=0&&(this.velocity.y*=-1),this.x+this.radius+this.velocity.x>this.canvas.width?this.velocity.x*=-1:this.x-this.radius<=0&&(this.velocity.x*=-1)}},{key:"break",value:function(t,e,i,s,a,o){var h,n,c,r,l,d,y=u(e,i),v={x:u(-20,20),y:u(-20,20)};this.origin.y<=0?(s&&a?(h=s,n=a,c=o):(h=this.x,n=this.y+this.radius,c=this.color),t.push(new f(this.canvas,this.ctx,h,n,y,c,v.x,v.y))):(s&&a?(r=s,l=a,d=o):(r=this.x,l=this.y-this.radius,d=this.color),t.push(new f(this.canvas,this.ctx,r,l,y,d,v.x,v.y)))}},{key:"change",value:function(t,e){this.color!=t?this.color=t:this.color=e}}]),t}(),m=function(){return Object(s.useEffect)(function(){d()();var t=document.querySelector("[data-canvas]"),e=t.getContext("2d"),i=window.innerHeight-50,s=400;t.width=s,t.height=i;var a,o,h,c,r,l=document.querySelector(".retry-btn"),f=document.querySelector(".retry-text"),m=document.querySelector(".btn.play"),x=document.querySelector(".start-screen"),g=[],p=[],w=35,E=18,b=!1,k=!0,L=0,S=0,M=["#e74c3c","#3498db"],C=[{x:t.width/2,y:-50},{x:t.width/2,y:t.height+50}];function O(){g=[],p=[],N=[],b=!0,h=2e3,L=0,c=2.5,S=0,r="#fff",k=!1,o=new v(t,e,s/2,i/2-w,E,M[1],p,0,0,!0),a=new v(t,e,s/2,i/2+w,E,M[0],p,0,0,!0),g.push(a,o)}var N=[];!function(){for(var a=0;a<20;a++){var o={x:u(-5,5),y:u(-5,5)},h=u(5,10);N.push(new v(t,e,s/2,i/2,h,M[Math.floor(Math.random()*M.length)],p,o.x,o.y,!0))}g.push(Object(n.a)(N))}();var A=function(t,a){var o=e.createLinearGradient(0,0,s,i);return o.addColorStop(0,t),o.addColorStop(1,a),o}("#2c3e50","#34495e");!function i(){requestAnimationFrame(i),e.fillStyle=A,e.fillRect(0,0,t.width,t.height),e.fillStyle=r,e.font="21px sans-serif",e.fillText("SCORE : ".concat(S.toString()),20,35),N.forEach(function(t){t.update(g,!0),t.edgeDetect()}),0==N.length&&(0!=g.length&&g.forEach(function(t,e){t.update(g),1==t.collided&&(S+=10,r=t.color),t.opacity<=0&&(t.dontCheck=!0,g.splice(e,1))}),0!=g.length&&1!=g.length||(k=!0,b=!1),2==g.length&&(b=!0),h%L==0&&1==b&&(b=!1,function(){var i=y(C),s=y(M);g.push(new v(t,e,i.x,i.y,E,s,p,0,c,!1))}()),0!=p.length&&p.forEach(function(t,e){t.update(),t.opacity<=.05&&p.splice(e,1)}),600==L&&(L=0),1==k&&0==b?(f.classList.remove("hide"),f.classList.add("show"),l.classList.remove("hide"),l.classList.add("show")):0==k&&1==b&&(f.classList.add("hide"),f.classList.remove("show"),l.classList.add("hide"),l.classList.remove("show")),L++)}(),setInterval(function(){c+=c<=7?.08:0},1500),t.addEventListener("mousedown",function(){k||(a.change(M[0],M[1]),o.change(M[1],M[0]))}),l.addEventListener("mousedown",function(){k=!1,O()}),m.addEventListener("mousedown",function(){x.classList.add("hide"),O()}),window.addEventListener("resize",function(){i=window.innerHeight-50,t.height=i})},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"start-screen"},a.a.createElement("div",{className:"game-data"},a.a.createElement("span",{className:"name"},a.a.createElement("span",null,"Color")," ",a.a.createElement("span",null,"Collision"))),a.a.createElement("span",{className:"info"},a.a.createElement("span",{className:"highlight _1"},"FOCUS")," is the weapon. Don't make the wrong move. Tap / click to change the color and save the central balls. Because if the central balls don't stay alive ",a.a.createElement("span",{className:"highlight _2"},"YOU DIE"),". Better play ",a.a.createElement("span",{className:"highlight _3"},"SAFE")," and make a new highscore."),a.a.createElement("button",{className:"btn play"},"PLAY")),a.a.createElement("span",{className:"retry-text hide","data-splitting":""},"Game Over!"),a.a.createElement("button",{className:"retry-btn hide","data-splitting":""},"RETRY"),a.a.createElement("canvas",{"data-canvas":!0}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(a.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},7:function(t,e,i){t.exports=i(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.b819e135.chunk.js.map