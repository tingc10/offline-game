(window["webpackJsonpoffline-game"]=window["webpackJsonpoffline-game"]||[]).push([[0],{12:function(t,e,i){},13:function(t,e,i){},14:function(t,e,i){"use strict";i.r(e);var n=i(0),a=i.n(n),s=i(4),o=i.n(s),c=(i(12),i(6)),h=i(1),r=i(2),l=(i(13),i(5)),d=i.n(l);function u(t,e){return Math.random()*(e-t+1)+t}function f(t){return t[Math.floor(Math.random()*t.length)]}var y=function(){function t(e,i,n,a,s,o,c,r){Object(h.a)(this,t),this.canvas=e,this.ctx=i,this.x=n,this.y=a,this.velocity={x:(Math.random()-.5)*c,y:(Math.random()-.5)*r},this.radius=s,this.color=o,this.timeToLive=250,this.opacity=1,this.gravity=.25}return Object(r.a)(t,[{key:"draw",value:function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.shadowColor=this.color,this.shadowBlur=25,this.ctx.globalAlpha=this.opacity,this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}},{key:"update",value:function(){this.x+=this.velocity.x,this.y+=this.velocity.y,this.velocity.y+=this.gravity,this.timeToLive-=1,this.opacity-=1/this.timeToLive,this.draw()}}]),t}(),v=function(){function t(e,i,n,a,s,o,c,r,l,d){Object(h.a)(this,t),this.canvas=e,this.ctx=i,this.x=n,this.y=a,this.radius=s,this.color=o,this.velocity={x:r||0,y:l||0},this.acc=.01,this.origin={x:n,y:a},this.dontCheck=d,this.opacity=1,this.particlesArr=c,this.collided=!1}return Object(r.a)(t,[{key:"draw",value:function(){this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.fillStyle=this.color,this.ctx.shadowColor=this.color,this.shadowBlur=25,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.globalAlpha=this.opacity,this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.origin.y<=0?this.y+=this.velocity.y:this.origin.y>=this.canvas.height&&(this.y-=this.velocity.y),1==e&&(this.y+=this.velocity.y,this.x+=this.velocity.x),this.collisionDetect(t),this.draw()}},{key:"collisionDetect",value:function(t){for(var e,i,n,a,s=this,o=0;o<t.length;o++){if(this!==t[o]&&!this.dontCheck)if((e=this.x,i=this.y,n=t[o].x,a=t[o].y,Math.sqrt(Math.pow(n-e,2)+Math.pow(a-i,2))-2*this.radius)<0)if(this.color==t[o].color){for(var c=0;c<Math.floor(u(20,25));c++)this.break(this.particlesArr,.4,.8),this.collided=!0;this.opacity=0}else if(this.color!=t[o].color)for(var h=0;h<Math.floor(u(40,55));h++)t.forEach(function(t){t.opacity=0,s.break(s.particlesArr,2,5,t.x,t.y,t.color)}),this.particlesArr.forEach(function(t){t.gravity=0})}}},{key:"edgeDetect",value:function(){this.y+this.radius+this.velocity.y>this.canvas.height?this.velocity.y*=-1:this.y-this.radius<=0&&(this.velocity.y*=-1),this.x+this.radius+this.velocity.x>this.canvas.width?this.velocity.x*=-1:this.x-this.radius<=0&&(this.velocity.x*=-1)}},{key:"break",value:function(t,e,i,n,a,s){var o,c,h,r,l,d,f=u(e,i),v={x:u(-20,20),y:u(-20,20)};this.origin.y<=0?(n&&a?(o=n,c=a,h=s):(o=this.x,c=this.y+this.radius,h=this.color),t.push(new y(this.canvas,this.ctx,o,c,f,h,v.x,v.y))):(n&&a?(r=n,l=a,d=s):(r=this.x,l=this.y-this.radius,d=this.color),t.push(new y(this.canvas,this.ctx,r,l,f,d,v.x,v.y)))}},{key:"change",value:function(t,e){this.color!=t?this.color=t:this.color=e}}]),t}(),g=function(){return Object(n.useEffect)(function(){d()();var t=document.querySelector("[data-canvas]"),e=t.getContext("2d"),i=window.innerHeight-50,n=400;t.width=n,t.height=i;var a,s,o,h,r,l=document.querySelector(".retry-btn"),y=document.querySelector(".retry-text"),g=document.querySelector(".btn.play"),w=document.querySelector(".start-screen"),m=[],p=[],x=35,b=18,E=!1,k=!0,L=0,S=0,C=["#e74c3c","#3498db"],A=[{x:t.width/2,y:-50},{x:t.width/2,y:t.height+50}];function M(){m=[],p=[],O=[],E=!0,o=2e3,L=0,h=2.5,S=0,r="#fff",k=!1,s=new v(t,e,n/2,i/2-x,b,C[1],p,0,0,!0),a=new v(t,e,n/2,i/2+x,b,C[0],p,0,0,!0),m.push(a,s)}var O=[];!function(){for(var a=0;a<20;a++){var s={x:u(-5,5),y:u(-5,5)},o=u(5,10);O.push(new v(t,e,n/2,i/2,o,C[Math.floor(Math.random()*C.length)],p,s.x,s.y,!0))}m.push(Object(c.a)(O))}();var N=function(t,a){var s=e.createLinearGradient(0,0,n,i);return s.addColorStop(0,t),s.addColorStop(1,a),s}("#2c3e50","#34495e");!function i(){requestAnimationFrame(i),e.fillStyle=N,e.fillRect(0,0,t.width,t.height),e.fillStyle=r,e.font="21px sans-serif",e.fillText("SCORE : ".concat(S.toString()),20,35),O.forEach(function(t){t.update(m,!0),t.edgeDetect()}),0==O.length&&(0!=m.length&&m.forEach(function(t,e){t.update(m),1==t.collided&&(S+=10,r=t.color),t.opacity<=0&&(t.dontCheck=!0,m.splice(e,1))}),0!=m.length&&1!=m.length||(k=!0,E=!1),2==m.length&&(E=!0),o%L==0&&1==E&&(E=!1,function(){var i=f(A),n=f(C);m.push(new v(t,e,i.x,i.y,b,n,p,0,h,!1))}()),0!=p.length&&p.forEach(function(t,e){t.update(),t.opacity<=.05&&p.splice(e,1)}),600==L&&(L=0),1==k&&0==E?(y.classList.remove("hide"),y.classList.add("show"),l.classList.remove("hide"),l.classList.add("show")):0==k&&1==E&&(y.classList.add("hide"),y.classList.remove("show"),l.classList.add("hide"),l.classList.remove("show")),L++)}(),setInterval(function(){h+=h<=7?.08:0},1500),t.addEventListener("mousedown",function(){k||(a.change(C[0],C[1]),s.change(C[1],C[0]))}),l.addEventListener("mousedown",function(){k=!1,M()}),g.addEventListener("mousedown",function(){w.classList.add("hide"),M()}),window.addEventListener("resize",function(){i=window.innerHeight-50,t.height=i})},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"start-screen"},a.a.createElement("div",{className:"game-data"},a.a.createElement("span",{className:"name"},a.a.createElement("span",null,"Color")," ",a.a.createElement("span",null,"Collision"))),a.a.createElement("span",{className:"info"},a.a.createElement("span",{className:"highlight _1"},"FOCUS")," is the weapon. Don't make the wrong move. Tap / click to change the color and save the central balls. Because if the central balls don't stay alive ",a.a.createElement("span",{className:"highlight _2"},"YOU DIE"),". Better play ",a.a.createElement("span",{className:"highlight _3"},"SAFE")," and make a new highscore."),a.a.createElement("button",{className:"btn play"},"PLAY")),a.a.createElement("span",{className:"retry-text hide","data-splitting":""},"Game Over!"),a.a.createElement("button",{className:"retry-btn hide","data-splitting":""},"RETRY"),a.a.createElement("canvas",{"data-canvas":!0}))},w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(t,e){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var i=t.installing;null!=i&&(i.onstatechange=function(){"installed"===i.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}o.a.render(a.a.createElement(g,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/offline-game",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/offline-game","/service-worker.js");w?(!function(t,e){fetch(t).then(function(i){var n=i.headers.get("content-type");404===i.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):m(t,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):m(e,t)})}}()},7:function(t,e,i){t.exports=i(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.bf3373cf.chunk.js.map
